<div id="wrapper-header">
    <ng-template #extra>
        <h5 (click)="onSubmit()" class="m-0 text-white font-weight-bolder">完成</h5>
    </ng-template>
    <app-nav-header [backUrl]="'/lover/log'" [title]="title" [extraContent]="extra"></app-nav-header>
</div>

<div id="content">
    <form id="form" [formGroup]="loverLogForm"
          class="w-100 px-3">
        <textarea id="input-text" 
                  formControlName="content"
                  class="w-100"
                  rows="8"
                  nz-input
                  placeholder="这一刻, 我想说..."
                  type="text"
                  [nzAutosize]="false"
                  style="resize: none;">
        </textarea>
        <div id="image-list" class="d-flex align-items-start mt-3 flex-wrap justify-content-between">
            <nz-upload class="w-auto m-0"
                       nzListType="picture-card"
                       [nzFileType]="'image/png,image/jpeg,image/jpg,image/gif,image/bmp'"
                       [(nzFileList)]="files"
                       [nzBeforeUpload]="false"
                       [nzShowUploadList]="false"
                       [nzMultiple]="true">
                <ng-container>
                    <svg t="1581661305198"
                         class="icon"
                         viewBox="0 0 1024 1024"
                         version="1.1"
                         xmlns="http://www.w3.org/2000/svg"
                         p-id="4794"
                         width="32"
                         height="32">
                        <path d="M341.333333 339.626667m-55.68 0a55.68 55.68 0 1 0 111.36 0 55.68 55.68 0 1 0-111.36 0Z"
                              fill="#3C3D3F"
                              p-id="4795"></path>
                        <path d="M567.253333 853.333333H198.4A27.946667 27.946667 0 0 1 170.666667 825.386667V721.066667l175.146666-172.586667 89.813334 41.386667a21.333333 21.333333 0 0 0 23.893333-4.266667l234.666667-234.666667L853.333333 501.546667v65.706666a21.333333 21.333333 0 1 0 42.666667 0V198.613333A70.613333 70.613333 0 0 0 825.386667 128H198.4A70.613333 70.613333 0 0 0 128 198.613333v626.773334A70.613333 70.613333 0 0 0 198.4 896h368.853333a21.333333 21.333333 0 1 0 0-42.666667zM170.666667 198.613333A27.946667 27.946667 0 0 1 198.4 170.666667h626.986667A27.946667 27.946667 0 0 1 853.333333 198.613333v244.053334l-144.64-137.173334a21.333333 21.333333 0 0 0-29.653333 0L439.893333 544.853333l-89.6-41.386666a21.333333 21.333333 0 0 0-23.893333 4.266666L170.666667 661.333333z"
                              fill="#3C3D3F"
                              p-id="4796"></path>
                        <path d="M874.666667 711.253333h-120.746667v-120.746666a21.333333 21.333333 0 0 0-42.666667 0v120.746666h-120.746666a21.333333 21.333333 0 0 0 0 42.666667h120.746666V874.666667a21.333333 21.333333 0 0 0 42.666667 0v-120.746667H874.666667a21.333333 21.333333 0 0 0 0-42.666667z"
                              fill="#3C3D3F"
                              p-id="4797"></path>
                    </svg>
                    <!-- <div class="ant-upload-text">Upload</div> -->
                </ng-container>
            </nz-upload>
            <div class="upload-img-list-item mr-2 mb-2 border rounded p-2" 
                 *ngFor="let file of files">
                 <div class="img-preview w-100 h-100">
                    <img class="w-100 h-100 img-clipable rounded"
                    [src]="file.thumbUrl"
                    alt="previewImage">
                    <div class="img-preview-mask rounded">
                        <svg t="1581766136129"
                             class="icon"
                             viewBox="0 0 1024 1024"
                             version="1.1"
                             xmlns="http://www.w3.org/2000/svg"
                             p-id="5752"
                             width="18"
                             height="18"
                             (click)="previewImage(file)">
                            <path d="M994.192 939.927l-187.109-187.109c-1.499-1.499-3.116-2.81-4.814-3.947 33.815-36.989 60.81-79.026 80.353-125.234 22.937-54.228 34.566-111.813 34.566-171.157s-11.632-116.93-34.566-171.159c-22.149-52.362-53.845-99.38-94.219-139.753-40.37-40.37-87.388-72.068-139.753-94.215-54.228-22.937-111.813-34.566-171.157-34.566s-116.93 11.632-171.159 34.566c-52.362 22.149-99.38 53.845-139.753 94.215-40.372 40.37-72.068 87.388-94.219 139.753-22.937 54.23-34.566 111.814-34.566 171.159s11.629 116.93 34.566 171.157c22.149 52.362 53.845 99.38 94.219 139.753 40.37 40.372 87.388 72.068 139.753 94.219 54.23 22.937 111.814 34.566 171.159 34.566s116.93-11.632 171.157-34.566c39.457-16.691 75.878-38.81 108.711-65.969 1.312 2.183 2.875 4.261 4.758 6.145l187.109 187.109c6.209 6.209 14.342 9.313 22.482 9.313s16.272-3.105 22.482-9.313c12.412-12.415 12.412-32.547-0.002-44.964zM477.497 828.586c-207.388 0-376.109-168.72-376.109-376.108s168.721-376.108 376.109-376.108 376.108 168.72 376.108 376.108-168.721 376.108-376.108 376.108z"
                                  p-id="5753"
                                  fill="#ffffff"></path>
                        </svg>
                        <svg t="1581765812931"
                             class="icon"
                             viewBox="0 0 1024 1024"
                             version="1.1"
                             xmlns="http://www.w3.org/2000/svg"
                             p-id="4807"
                             width="24"
                             height="24"
                             (click)="removeImage(file)">
                            <path d="M733.855 791.945c0 26.574-21.63 48.203-48.202 48.203H338.347c-26.573 0-48.202-21.63-48.202-48.203V280.257h443.71v511.688zM386.55 193.74c0-5.562 4.326-9.888 9.888-9.888H628.18c5.562 0 9.888 4.326 9.888 9.888v29.045H386.55V193.74z m491.913 29.045H695.54V193.74c0-37.08-30.28-67.36-67.36-67.36H396.438c-37.08 0-67.36 30.28-67.36 67.36v29.045h-183.54c-16.068 0-29.046 12.978-29.046 29.045s12.978 29.045 29.045 29.045h86.518v511.07c0 58.709 47.584 106.293 106.292 106.293h347.306c58.708 0 106.292-47.584 106.292-106.293V280.257h86.518c16.067 0 29.045-12.977 29.045-29.045s-12.978-28.427-29.045-28.427zM512 753.013c16.068 0 29.045-12.978 29.045-29.046v-308.99c0-16.068-12.977-29.045-29.045-29.045s-29.045 12.977-29.045 29.045v308.99c0 16.068 12.977 29.046 29.045 29.046m-135.338 0c16.068 0 29.045-12.978 29.045-29.046v-308.99c0-16.068-12.977-29.045-29.045-29.045s-29.045 12.977-29.045 29.045v308.99c0.618 16.068 13.596 29.046 29.045 29.046m270.676 0c16.067 0 29.045-12.978 29.045-29.046v-308.99c0-16.068-12.978-29.045-29.045-29.045s-29.045 12.977-29.045 29.045v308.99c0 16.068 12.977 29.046 29.045 29.046"
                                  p-id="4808"
                                  fill="#ffffff"></path>
                        </svg>
                    </div>
                 </div>
            </div>
            <div class="upload-img-list mr-2 mb-2"
                 style="visibility: hidden; width: 104px; ">
            </div>
            <!-- <div class="upload-img-list mr-2 mb-2"
                 style="visibility: hidden;">
            </div> -->
        </div>
    </form>
</div>