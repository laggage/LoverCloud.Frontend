<div id="top">
    <ng-template #extra>
        <span> <i nz-icon><svg t="1581933412966"
                     (click)="openNewAlbumModal()"
                     class="icon"
                     viewBox="0 0 1024 1024"
                     version="1.1"
                     xmlns="http://www.w3.org/2000/svg"
                     p-id="11369"
                     width="32"
                     height="32">
                    <path d="M903.249869 413.138388 549.600363 413.138388 549.600363 55.423287 496.247224 55.423287 496.247224 413.138388 120.749108 413.138388 120.749108 466.490503 496.247224 466.490503 496.247224 837.923024 549.600363 837.923024 549.600363 466.490503 903.249869 466.490503Z"
                          p-id="11370"
                          fill="#ffffff"></path>
                </svg></i> </span>
    </ng-template>
    <app-nav-header backUrl="/lover"
                    [title]="title"
                    [extraContent]="extra"></app-nav-header>
</div>

<div id="content"
     class="container-fluid">
    <div class="row d-flex user-select-none flex-row align-items-center justify-content-center">
        <div [@isClicked]="album.status === 'clicked' ? 'clicked':'normal'"
             class="col-6 col-md-4 col-xl-3 album-card"
             *ngFor="let album of albums">
            <!-- border -->
            <div class="rounded w-100 d-flex border flex-column justify-content-around position-relative">
                <div class="position-relative"
                     style="height: 200px;"
                     (click)="onAlbumCardClicked(album)">
                    <span *ngIf="!album.coverImageUrl"
                          class="d-flex flex-column my-5 justify-content-center align-items-center">
                        <i nz-icon
                           style="font-size: 48px;">
                            <svg t="1582007410695"
                                 viewBox="0 0 1024 1024"
                                 version="1.1"
                                 xmlns="http://www.w3.org/2000/svg"
                                 p-id="4077">
                                <path d="M192 448a2 2 0 1 0 128 0 2 2 0 1 0-128 0z"
                                      p-id="4078"></path>
                                <path d="M714.688 256H181.312C116.64 256 64 308.64 64 373.312v405.376C64 843.36 116.64 896 181.312 896h533.376C779.36 896 832 843.36 832 778.688V373.312C832 308.64 779.36 256 714.688 256zM768 778.688C768 808.096 744.096 832 714.688 832H181.312C151.936 832 128 808.096 128 778.688V373.312C128 343.936 151.936 320 181.312 320h533.376C744.096 320 768 343.936 768 373.312v405.376z"
                                      p-id="4079"></path>
                                <path d="M842.688 128H256c-17.664 0-32 14.336-32 32s14.336 32 32 32h586.688C872.096 192 896 215.936 896 245.312V640c0 17.696 14.304 32 32 32s32-14.304 32-32V245.312C960 180.64 907.36 128 842.688 128z"
                                      p-id="4080"></path>
                                <path d="M672.64 448.736c-129.056 0-143.936 72.672-152.832 116.096-7.2 35.168-10.4 39.968-28.64 42.88-34.976 5.568-44 0.192-58.912-8.8-15.456-9.312-36.672-22.08-77.952-23.168-126.688-2.624-160.192 148.096-161.6 154.496-3.712 17.28 7.264 34.304 24.544 38.016 2.272 0.512 4.544 0.704 6.752 0.704 14.752 0 28-10.24 31.264-25.248 0.224-1.056 23.232-104.032 95.488-104.032 0.64 0 1.28 0 1.92 0.032 24.352 0.608 33.632 6.208 46.496 13.984 24.032 14.464 48.352 25.76 102.08 17.184 64.192-10.272 74.432-60.192 81.184-93.216 8.32-40.512 13.312-64.928 90.144-64.928 17.696 0 32-14.336 32-32s-14.272-32-31.936-32z"
                                      p-id="4081"></path>
                            </svg>
                        </i>
                        <span>空相册</span>
                    </span>
                    <img *ngIf="album.coverImageUrl"
                         class=" img-clipable rounded-top"
                         [src]="album.coverImageUrl|authenticationImageUrl|async"
                         alt="cover image">
                </div>

                <div nz-dropdown
                     [nzDropdownMenu]="menu"
                     [nzTrigger]="'click'"
                     [nzPlacement]="'topCenter'"
                     class="d-flex align-items-center overflow-hidden justify-content-between border-top py-1 px-1">
                    <div class="d-flex flex-row align-items-center mr-1">
                        <nz-avatar *ngIf="user"
                                   [nzSize]="24"
                                   nzIcon="user"
                                   class="mr-1"
                                   [nzSrc]="album.getCreaterFromUser(user).sex === 1 ? userProfileImage : spouseProfileImage">
                        </nz-avatar>
                        <!-- 男生图标 -->
                        <span class="d-flex flex-row align-items-center"
                              *ngIf="album.getCreaterFromUser(user).sex === 1">
                            <svg viewBox="0 0 1024 1024"
                                 xmlns="http://www.w3.org/2000/svg"
                                 width="18"
                                 height="18">
                                <path d="M493.9008 530.0992a138.24 138.24 0 1 0 40.4992 97.7664 137.8048 137.8048 0 0 0-40.4992-97.7664z"
                                      fill="#80CBF2"
                                      p-id="3306"></path>
                                <path d="M512 0C229.2224 0 0 229.2224 0 512s229.2224 512 512 512 512-229.2224 512-512S794.7776 0 512 0z m257.3056 512a25.6 25.6 0 0 1-51.2 0v-169.9072l-171.136 171.136a189.44 189.44 0 1 1-36.224-36.1728l171.1616-171.1616H512a25.6 25.6 0 0 1 0-51.2h234.24l1.0496 0.1536 1.4336 0.2304 1.2032 0.2816 1.2288 0.3072 1.1776 0.4096 1.2032 0.4352 1.0496 0.4864 1.2032 0.5888 0.9728 0.5888 1.1776 0.7168 1.024 0.7424 0.9984 0.7424c0.5888 0.4864 1.152 0.9984 1.6896 1.536l0.1792 0.1536 0.1536 0.1792c0.5376 0.5376 1.0496 1.1008 1.536 1.6896s0.4864 0.64 0.7168 0.9728 0.5376 0.6912 0.768 1.0496 0.4608 0.7424 0.6912 1.1264 0.4096 0.6656 0.5888 1.024 0.384 0.768 0.5632 1.1776 0.3584 0.7168 0.512 1.1008 0.2816 0.768 0.4096 1.152 0.3072 0.7936 0.4352 1.2288 0.2048 0.768 0.3072 1.152 0.2304 0.8448 0.3072 1.28 0.128 0.8704 0.2048 1.3056 0.128 0.768 0.1792 1.152v2.4064z"
                                      fill="#80CBF2"
                                      p-id="3307"></path>
                            </svg>
                        </span>
                        <!-- 女生图标 -->
                        <span class="d-flex flex-row align-items-center"
                              *ngIf="album.getCreaterFromUser(user).sex === 2">
                            <svg viewBox="0 0 1024 1024"
                                 width="18"
                                 height="18">
                                <path d="M512 512m-477.866667 0a477.866667 477.866667 0 1 0 955.733334 0 477.866667 477.866667 0 1 0-955.733334 0Z"
                                      fill="#DA4074"
                                      p-id="4286"></path>
                                <path d="M561.288533 246.510933a214.6304 214.6304 0 0 0-214.664533 214.596267c0 47.445333 15.598933 91.136 41.642667 126.702933l-30.4128 30.481067-56.32-56.32s-22.528-22.528-45.056 0c-22.493867 22.459733 0 45.021867 0 45.021867l56.32 56.285866-56.32 56.32 45.056 44.987734 56.32-56.285867 56.32 56.285867s22.493867 22.528 45.021866 0c22.528-22.459733 0-44.987733 0-44.987734l-56.285866-56.32 30.242133-30.242133a213.504 213.504 0 0 0 128.136533 42.769067 214.698667 214.698667 0 0 0 0-429.294934m-2.2528 363.997867a148.514133 148.514133 0 1 1 0-297.028267 148.514133 148.514133 0 0 1 0 297.028267"
                                      fill="#FFFFFF"
                                      p-id="4287"></path>
                            </svg>
                        </span>
                    </div>
                    <span class="text-nowrap text-truncate">{{album.name}}({{album.photosCount}})</span>
                    <!-- 下拉菜单 -->
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu
                            nzSelectable
                            class="user-select-none">
                            <li nz-menu-item
                                (click)="openUpdateAlbumModal(album)">
                                <i nz-icon
                                   nzType="edit"
                                   nzTheme="outline"></i>
                                编辑</li>
                            <li nz-menu-item
                                [class.btn-disabled]="album.photosCount>0"
                                (click)="confirmDeleteAlbum(album)">
                                <i nz-icon
                                   nzType="delete"
                                   nzTheme="outline"></i>
                                删除
                            </li>
                        </ul>
                    </nz-dropdown-menu>
                </div>
            </div>
        </div>

        <div class="col-6 col-md-4 col-xl-3 my-0 invisible"></div>
        <div class="col-6 col-md-4 col-xl-3 my-0 invisible"></div>
        <div class="col-6 col-md-4 col-xl-3 my-0 invisible"></div>
    </div>
</div>